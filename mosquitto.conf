# Mosquitto MQTT Broker Configuration

# NETWORK LISTENERS
listener 1883 0.0.0.0

# AUTHENTICATION & AUTHORIZATION
allow_anonymous true

# PERSISTENCE
persistence true
persistence_location /var/lib/mosquitto/
autosave_interval 60
autosave_on_changes false
persistence_file mosquitto.db

# LOGGING
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information
log_timestamp true
log_timestamp_format %Y-%m-%d %H:%M:%S

# CONNECTION LIMITS & TIMEOUTS
max_connections -1
max_queued_messages 1000
max_inflight_messages 20

# MESSAGE SIZE
max_packet_size 1048576

# KEEPALIVE SETTINGS
max_keepalive 65535

# QUALITY OF SERVICE (QoS)
max_qos 2
upgrade_outgoing_qos false

# PERFORMANCE TUNING
set_tcp_nodelay true